import*as e from"@wordpress/interactivity";var n={d:(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const t=(u={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},s={},n.d(s,u),s),o=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],{state:c,actions:l}=(0,t.store)("unitone/mega-menu",{state:{get top(){return(0,t.getContext)().top},get left(){return(0,t.getContext)().left},get isMenuOpen(){return Object.values(c.menuOpenedBy).filter(Boolean).length>0},get menuOpenedBy(){var e;const n=(0,t.getContext)();return null!==(e=n?.submenuOpenedBy)&&void 0!==e?e:[]}},actions:{openMenuOnHover(){l.openMenu("hover")},closeMenuOnHover(){l.closeMenu("hover")},openMenuOnClick(){const e=(0,t.getContext)(),{ref:n}=(0,t.getElement)();e.previousFocus=n,l.openMenu("click")},closeMenuOnClick(){l.closeMenu("click"),l.closeMenu("focus")},openMenuOnFocus(){l.openMenu("focus")},toggleMenuOnClick(){const e=(0,t.getContext)(),{ref:n}=(0,t.getElement)();window.document.activeElement!==n&&n.focus();const{menuOpenedBy:o}=c;o.click||o.focus?(l.closeMenu("click"),l.closeMenu("hover"),l.closeMenu("focus")):(e.previousFocus=n,l.openMenu("click"))},handleMenuKeydown(e){c.menuOpenedBy.click&&"Escape"===e?.key&&(l.closeMenu("click"),l.closeMenu("focus"))},handleMenuFocusout(e){const{modal:n}=(0,t.getContext)();(null===e.relatedTarget||!n?.contains(e.relatedTarget)&&e.target!==window.document.activeElement)&&(l.closeMenu("click"),l.closeMenu("focus"))},openMenu(e="click"){const n=(0,t.getContext)(),{ref:o}=(0,t.getElement)();c.menuOpenedBy[e]=!0;const l=o.closest(".unitone-mega-menu"),u=l.getBoundingClientRect().y+l.getBoundingClientRect().height;n.top=`${u}px`;const s=l.getBoundingClientRect().x+l.getBoundingClientRect().width;n.left=`${s}px`},closeMenu(e="click"){const n=(0,t.getContext)();c.menuOpenedBy[e]=!1,c.isMenuOpen||(n.modal?.contains(window.document.activeElement)&&n.previousFocus?.focus(),n.modal=null,n.previousFocus=null,n.top=0,n.left=0)}},callbacks:{initMenu(){const e=(0,t.getContext)(),{ref:n}=(0,t.getElement)();if(c.isMenuOpen){const t=n.querySelectorAll(o);e.modal=n,e.firstFocusableElement=t[0],e.lastFocusableElement=t[t.length-1]}},documentScroll(){l.closeMenu("hover"),l.closeMenu("click"),l.closeMenu("focus")},windowResize(){l.closeMenu("hover"),l.closeMenu("click"),l.closeMenu("focus")}}});var u,s;